<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Crane</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <header>
            <fieldset id="palettes-container">
                <legend>Palettes</legend>
                <div id="palettes"></div>
                <p>
                    Index <input id="palette-loadsave-index" type="number" min="0" max="7" value="0">
                    <button onclick="saveSinglePalette()">Save</button>
                    <button onclick="loadSinglePalette()">Load</button>
                </p>
                <p>
                    Place <input placeholder="https://lospec.com/palette-list/&lt;something&gt;" id="palette-import-url">
                    in <input id="palette-import-index" type="number" min="0" max="7" value="0">
                    <button onclick="importPalette()">Import</button>
                </p>
                <p>
                    <button onclick="showUnusedColors()">Show unused</button>
                </p>
            </fieldset>
        </header>
        <main>
            <fieldset id="tile-library">
                <legend>Tile library</legend>
                <div id="tile-library-top">
                    <button onclick="openTileEditor()">+</button>
                    <button onclick="deleteTile()">-</button>
                    <button onclick="duplicateTile()">Duplicate</button>
                </div>
                <div id="tile-entries">

                </div>
            </fieldset>
            <fieldset id="background-editor">
                <legend>Background</legend>
                <div id="background-container">
                    <canvas width="512" height="512" id="background-canvas"></canvas>
                    <canvas width="16" height="16" id="background-overlay"></div>
                </div>
            </fieldset>
            <div id="tile-editor-overlay">
                <div id="tile-editor">
                    <div class="group-title">Tile editor</div>
                    <div id="pixels-container">

                    </div>
                    <div id="grid">
                        
                    </div>
                    <button id="zoom-out">Zoom out</button>
                    <button id="zoom-in">Zoom in</button>
                    <button id="toggle-grid">Hide grid</button>
                    <input id="editor-palette-selector" type="number" min="0" max="7" value="0">
                    <div id="editor-palette-area"></div>
                </div>
            </div>
        </main>


        <div id="bottom-options-container">
            <fieldset class="bottom-options-panel">
                <legend>Project</legend>
                <p>
                    Name <input placeholder="Untitled" id="project-name">
                </p>
                <p>
                    <button onclick="saveProject()">Save</button>
                    <button onclick="loadProject()">Load</button>
                </p>
            </fieldset>
            <fieldset class="bottom-options-panel">
                <legend>Export</legend>
                <p>
                    Native 
                    <button onclick="exportPalettes()">palettes</button>
                    <button onclick="exportTiles()">tiles</button>
                    <button onclick="exportBackground()">background</button>
                </p>

                <p>
                    PNG
                    <button onclick="exportPng()">background</button>
                </p>
            </fieldset>

            <fieldset class="bottom-options-panel">
                <legend>Options</legend>
                <p>
                    Tile size
                    <input type="radio" id="tile-size-8" name="tile-size">8px
                    <input type="radio" id="tile-size-16" name="tile-size" checked>16px
                </p>
                <p>
                    Palette index offset
                    <input id="palette-index-offset" type="number" min="0" max="7" value="0">
                </p>
            </fieldset>
        </div>

        <h1>Help</h1>
        <h2>Palettes</h2>
        <p>Click a palette entry to change its color.</p>
        <p>Enter a URL from <a href="https://lospec.com/palette-list">Lospec's palette list</a> and click "Import" to load the palette.</p>
        <p>Additional colors past the first 15 will be cut off.</p>

        <h2>Tile editor</h2>
        <p>Click "New" to create a new tile. To edit an existing tile, hold Shift while clicking it in the tile library.</p>
        <p>Click a color to select it. To modify a color, Shift-click it.</p>
        <p>Draw pixels by clicking on the canvas. Erase a pixel by Shift-clicking it.</p>
        <p>Use the spinner to change which palette the tile uses.</p>
        <p>Click outside the tile editor to close it.</p>

        <h2>Background editor</h2>
        <p>Click a tile in the tile library to select it.</p>
        <p>Place the tile in the background by clicking. Shift-click to erase a tile from the background.</p>

        <h2>Loading and saving</h2>
        <p>Enter a name and click Save to save your project.</p>
        <p>Click Load and select a project file from your computer to load it.</p>

        <p><em>Crane SNES graphics editor revision ${GIT_SHA} (${BUILD_DATE}) by <a href="http://constcast.org">constcast</a></em></p>

        <script src="context.js"></script>
        <script src="colorpicker.js"></script>
        <script src="maineditor.js"></script>
        <script src="tileeditor.js"></script>
        <script src="diskop.js"></script>
        <script src="nativeexport.js"></script>
        <script src="init.js"></script>
    </body>
</html>